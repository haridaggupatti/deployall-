{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\front end\\\\AI-UI\\\\src\\\\components\\\\Login\\\\loginPage.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport \"./login.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEye, faEyeSlash } from '@fortawesome/free-solid-svg-icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function LoginPage() {\n  _s();\n  const [cred, setCred] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const navigate = useNavigate();\n  const [showPassword, setShowPassword] = useState(false);\n  const [error, setError] = useState(null);\n  const handleonchange = event => {\n    setCred({\n      ...cred,\n      [event.target.name]: event.target.value\n    });\n  };\n  const handlePassword = () => {\n    setShowPassword(!showPassword);\n  };\n  const handleLogin = async event => {\n    event.preventDefault();\n    setError(null); // Reset error before new login attempt\n    try {\n      const response = await fetch(\"http://127.0.0.1:8000/api/users/login\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email: cred.email,\n          password: cred.password\n        })\n      });\n      const resp = await response.json();\n      if (response.status === 200) {\n        localStorage.setItem('access_token', resp.access_token);\n        navigate(\"/\");\n      } else {\n        throw new Error(resp.message || \"Failed to login\");\n      }\n    } catch (error) {\n      setError(error.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-box\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"left-container\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleLogin,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          id: \"login-cotation\",\n          children: \"Login in to Crack Your Interview\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Choose a job you love, and you will never have to work a day in your life.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-box\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            children: \"Email Id\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            onChange: handleonchange,\n            name: \"email\",\n            value: cred.email,\n            placeholder: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: showPassword ? \"text\" : \"password\",\n            id: \"\",\n            onChange: handleonchange,\n            name: \"password\",\n            value: cred.password,\n            placeholder: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            id: \"toggle-Password\",\n            icon: showPassword ? faEye : faEyeSlash,\n            onClick: handlePassword,\n            style: {\n              cursor: 'pointer',\n              marginLeft: '5px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"login-button\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 31\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"right-container\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n}\n_s(LoginPage, \"YA3QM/um3XOtVw5ANnXZ6KQYe60=\", false, function () {\n  return [useNavigate];\n});\n_c = LoginPage;\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["useState","useNavigate","FontAwesomeIcon","faEye","faEyeSlash","jsxDEV","_jsxDEV","LoginPage","_s","cred","setCred","email","password","navigate","showPassword","setShowPassword","error","setError","handleonchange","event","target","name","value","handlePassword","handleLogin","preventDefault","response","fetch","method","headers","body","JSON","stringify","resp","json","status","localStorage","setItem","access_token","Error","message","className","children","onSubmit","id","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","type","onChange","placeholder","icon","onClick","style","cursor","marginLeft","_c","$RefreshReg$"],"sources":["C:/Users/Administrator/front end/AI-UI/src/components/Login/loginPage.jsx"],"sourcesContent":["import { useState } from \"react\"\r\nimport \"./login.css\"\r\nimport {  useNavigate } from \"react-router-dom\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faEye, faEyeSlash } from '@fortawesome/free-solid-svg-icons';\r\n\r\nexport default function LoginPage() {\r\n    const [cred, setCred] = useState({ email: \"\", password: \"\" })\r\n    const navigate = useNavigate()\r\n    const [showPassword, setShowPassword] = useState(false)\r\n    const [error, setError] = useState(null);\r\n\r\n    const handleonchange = (event) => {\r\n        setCred({ ...cred, [event.target.name]: event.target.value })\r\n    }\r\n\r\n    const handlePassword = () => {\r\n        setShowPassword(!showPassword)\r\n    }\r\n    const handleLogin = async (event) => {\r\n        event.preventDefault()\r\n        setError(null); // Reset error before new login attempt\r\n        try {\r\n            const response = await fetch(\"http://127.0.0.1:8000/api/users/login\", {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify({ email: cred.email, password: cred.password })\r\n            })\r\n            const resp = await response.json()\r\n            if (response.status === 200) {\r\n                localStorage.setItem('access_token', resp.access_token)\r\n                navigate(\"/\")\r\n            } else {\r\n                throw new Error(resp.message || \"Failed to login\");\r\n            }\r\n        } catch (error) {\r\n            setError(error.message);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"login-box\">\r\n            <div className=\"left-container\">\r\n                <form onSubmit={handleLogin}>\r\n                    <h2 id=\"login-cotation\">Login in to Crack Your Interview</h2>\r\n                    <p>Choose a job you love, and you will never have to work a day in your life.</p>\r\n                    <div className=\"form-box\">\r\n                        <label htmlFor=\"email\">Email Id</label>\r\n                        <input type=\"text\" onChange={handleonchange} name=\"email\" value={cred.email} placeholder=\"Email\" />\r\n                        <label htmlFor=\"\">Password</label>\r\n                        <input type={showPassword ? \"text\" : \"password\"} id=\"\" onChange={handleonchange} name=\"password\" value={cred.password} placeholder=\"Password\" />\r\n                        <FontAwesomeIcon\r\n                            id=\"toggle-Password\"\r\n                            icon={showPassword ? faEye : faEyeSlash}\r\n                            onClick={handlePassword}\r\n                            style={{ cursor: 'pointer', marginLeft: '5px' }}\r\n                        />\r\n                        {/* <Link id=\"forgot-anch\" to=\"/email-otp\">Forgot Password?</Link>\r\n                        <Link id=\"create-account\" to=\"/register\">Don't have an account?<span id=\"resend-span\" >Create an account</span> </Link> */}\r\n                        <button id=\"login-button\">Login</button>\r\n                    </div>\r\n                    {error && <p className=\"error\">{error}</p>} {/* Display error message if error exists */}\r\n                </form>\r\n\r\n            </div>\r\n            <div className=\"right-container\"></div>\r\n        </div>\r\n    )\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}